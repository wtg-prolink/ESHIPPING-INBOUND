@{
    ViewBag.Title = "TKCMPQuery";
}


<div id="wrapper" class='@Html.Raw(ViewBag.MenuBar)'>
    <div id="page-wrapper">
        <div class="container-fluid">
            <div class="panel panel-default">
                <div class="panel-body">
                    <script type="text/javascript">
                        $(document).ready(function ($) {

                            //init Search
                            var gop = {};
                            var numberTemplate = "2";
                            var docHeight = $(document).height();
                            gridHeight = docHeight - 330;
                            gop.gridColModel = [
                                { name: 'CmpId', title: 'ID', sorttype: 'string', hidden: true, viewable: false },
                                { name: 'GroupId', title: '@Resources.Locale.L_BSCSSetup_GroupId',sorttype: 'string', width:80, align: 'left', hidden: true, viewable: false},
                                { name: 'Cmp', title: '@Resources.Locale.L_MailGroupSetup_Cmp', sorttype: 'string', width:80, align: 'left', hidden: true, viewable: false},
                                { name: 'Stn', title: '@Resources.Locale.L_IpPart_Stn', sorttype: 'string', width:80, align: 'left', hidden: true, viewable: false},
                                { name: 'Dep', title: '@Resources.Locale.L_GateReserveSetup_CreateDep', sorttype: 'string', width:80, align: 'left', hidden: true, viewable: false},
                                { name: 'CmpId', title: '@Resources.Locale.L_MailGroupSetup_Cmp ID',sorttype: 'string', width:150, align: 'left'},
                                { name: 'PartyType', title: 'Party Type',sorttype: 'string', width:80, align: 'left'},
                                { name: 'CmpName', title: '@Resources.Locale.L_UserAdd_CmpNm',sorttype: 'string', width:250, align: 'left'},
                                { name: 'CmpAddr', title: '@Resources.Locale.L_UserAdd_Addr',sorttype: 'string', width:250, align: 'left'},
                                { name: 'CmpTel', title: '@Resources.Locale.L_BSCSSetup_CmpTel',sorttype: 'string', width:150, align: 'left'},
                                { name: 'CmpFax', title: '@Resources.Locale.L_BSCSSetup_CmpFax',sorttype: 'string', width:150, align: 'left'},
                                { name: 'CmpAttn', title: '@Resources.Locale.L_BSCSSetup_CmpAttn',sorttype: 'string', width:150, align: 'left'},
                                { name: 'City', title: '@Resources.Locale.L_BSCSSetup_City',sorttype: 'string', width:150, align: 'left'},
                                { name: 'CreateBy', title: '@Resources.Locale.L_DNApproveManage_CreateBy',sorttype: 'string', width:150, align: 'left'},
                                { name: 'CreateDate', title: '@Resources.Locale.L_DNApproveManage_CreateDate',sorttype: 'string', width:150, align: 'left'},
                                { name: 'ModifyBy', title: '@Resources.Locale.L_DNApproveManage_ModifyBy',sorttype: 'string', width:150, align: 'left'},
                                { name: 'ModifyDate', title: '@Resources.Locale.L_DNApproveManage_ModifyDate',sorttype: 'string', width:150, align: 'left'},
	                            { name: 'Remark', title: '@Resources.Locale.L_NRSDataQuery_Remark', index: 'Remark', width: 300, align: 'left', sorttype: 'string', hidden: false }
                            ];
                            gop.AddUrl = { "url": rootPath + "TKBS/TKCMPSetup", "title": "@Resources.Locale.L_UserAdd_CmpSetup", "id": "TKCMPSetup" };
                            gop.gridId = "containerInfoGrid";
                            gop.gridAttr = { caption: "@Resources.Locale.L_TKCMPQuery_Views_556", height: "auto", refresh: true, exportexcel: true, conditions: encodeURI(loadCondition) };
                            gop.gridSearchUrl = rootPath + "TKBS/CMPData";
                            gop.searchColumns = getSelectColumn(gop.gridColModel);

                            
                            gop.gridFunc = function (map) {
                                //用于回调函数，例如赋值操作等
                                dbClick(map);
                            }

                            gop.searchFormId = "ConditionArea";
                            gop.searchDivId = "SearchArea";

                            initSearch(gop);

                            function dbClick(map)
                            {
                        		var CmpId = map.CmpId;
                        	    top.topManager.openPage({
                        	        href: rootPath + "TKBS/TKCMPSetup?CmpId=" + CmpId,
                        	        title: '@Resources.Locale.L_UserAdd_CmpSetup',
                        	        id: 'TKCMPSetup'
                        	    });
                            }
                        });

                    </script>
                    <form class="pure-g" id="ConditionArea">

                    </form>
                    <div class="pure-g" id="SearchArea">

                    </div>
                </div>
            </div>

            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="form-group">
                        <div class="pure-g">
                            <div class="pure-u-sm-60-60">
                                <table id="containerInfoGrid" class="_tableGrid" style="width: 100%">
                                    <tr>                                        
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
