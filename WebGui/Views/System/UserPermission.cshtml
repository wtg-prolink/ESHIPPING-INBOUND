@{
    ViewBag.Title = "UserPermission";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

        
        <!-- <link href="@Url.Content("~/Bootstrap/css/bootstrap-treeview.css")" rel="stylesheet"> -->
        @Html.RazorJSInline("~/Scripts/lib/bootstrap-treeview.js")
        <style>
            .input-group-addon {padding: 2px 7px;}
            .prolink-container {margin:0px 25px;}
            #page-wrapper {padding: 5px;}
            .ul-select > li{padding-left: 10px;}
            .nav-pills>li.active>a, .nav-pills>li.active>a:focus, .nav-pills>li.active>a:hover {background-color: #414DA7;}
            .PERMISION-ROLE li{cursor: pointer;}
            label{ padding-left: 15px !important;}
            .pmsBox1{
                float: left;
                width: 30%;
                height: auto;
                margin-right: 3px;
            }
            .pmsBox2, .pmsBox3{
                float: left;
                width: 34%;
                height: auto;
                margin-right: 3px;
            }
            li p{margin: 0 0 0;}
            li.list-group-item{padding: 5px 15px;}
        </style>
        <script src="@Url.Content("~/Scripts/lib/list.min.js")" type="text/javascript"></script>
        <script>
            var RoleID = '';
            var postData = new Array();
            var localData = new Object();
            localData.RoleData = new Object();
            var getPermissionUrl = '@Url.Content("~/zh-cn/Common/GetMenuItemPermissionByRole")';
            var getRoleUsersUrl  = '@Url.Content("~/zh-cn/Common/RoleUsers?roleId=")';
            var saveUrl          = '@Url.Content("~/zh-cn/Common/SavePermission")';
            try {
                var RoleStr = "@ViewBag.Role.Content";
                var UserStr = "@ViewBag.Users.Content";
                var MenuStr = "@ViewBag.Menu.Content";
                var RoleData = JSON.parse(RoleStr.replace(/&quot;/g, '"'));
                var UserData = JSON.parse(UserStr.replace(/&quot;/g, '"'));
                var MenuData = JSON.parse(MenuStr.replace(/&quot;/g, '"'));

            }
            catch (e)
            {
                console.log(e);
            }
        </script>
        
<script type="text/javascript" src="@Url.Content("~/Scripts/System/UserPermission.js?2024121301")"></script>

<div id="wrapper">
    <div id="page-wrapper">
        <div class="container-fluid">
            <div class="pmsBox1">
                <div class="pure-g">
                    <div class="pure-u-sm-60-60">
                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                <h4 class="panel-title">@Resources.Locale.L_UserPermission_Role</h4>
                            </div>
                            <div class="panel-body roles" style="overflow-y: scroll;" id="PA">
                                <input class="search form-control input-sm" placeholder="Search" style="width:98%; margin-bottom:2px;" id="RoleSearch"/>
                                <ul class="list-group PERMISION-ROLE list" style=" width:98%"></ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="pure-g">
                    <div class="pure-u-sm-60-60">
                        <div class="panel panel-primary" style="margin-bottom:0px;">
                            <div class="panel-heading">
                                <h4 class="panel-title">@Resources.Locale.L_UserPermission_User</h4>
                            </div>
                            <div class="panel-body" style="overflow-y: scroll;" id="PB">
                                <input class="btn search form-control input-sm" placeholder="Search" style="width:60%;" id="UserSearch" />
                                <button type="button" class="btn btn-sm btn-primary pms-btn" id="ShowPBUserInfo"> Show All
                                </button>
                                <ul class="list-group PERMISSION-USER list" style="width:98%"></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="pmsBox2">
                <div class="pure-g">
                    <div class="pure-u-sm-60-60">
                        <div class="panel panel-primary" style="margin-bottom:0px;">
                            <div class="panel-heading">
                                <h4 class="panel-title">@Resources.Locale.L_UserPermission_Com</h4>
                            </div>
                            <div class="panel-body" style="overflow-y: scroll;" id="PC">
                                <div id="PERMISSION-TREE" style="width:98%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="pmsBox3">
                <div class="pure-g">
                    <div class="pure-u-sm-60-60">
                        <div class="panel panel-primary" style="margin-bottom:0px;">
                            <div class="panel-heading">
                                <h4 class="panel-title">@Resources.Locale.L_UserPermission_State</h4>
                            </div>
                            <div class="panel-body" style="overflow-y: scroll;" id="PD">
                                <ul class="nav nav-tabs" id="PERMISION-SELECT">
                                    <li role="presentation" class="active"><a href="#PERMISION-FUNCTION" aria-controls="PERMISION-FUNCTION" role="tab" data-toggle="tab">Function</a> </li>
                                    <li role="presentation"><a href="#PERMISION-REPORT" aria-controls="PERMISION-REPORT" role="tab" data-toggle="tab">Report</a></li>
                                </ul>

                                <div class="tab-content">
                                    <div role="tabpanel" class="tab-pane fade in active" id="PERMISION-FUNCTION" style="width:98%">
                                        <ul class="list-group" id="CHECKBOX-GROUP">
                                        </ul>
                                    </div>
                                    <div role="tabpanel" class="tab-pane" id="PERMISION-REPORT" style="width:98%">
                                        <ul class="list-group" id="RPT-CHECKBOX-GROUP">

                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>